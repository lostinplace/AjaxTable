<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.0/jquery.min.js" type="text/javascript" ></script>
    <style type="text/css" id="tableStyle">
        #ResearchTable
        {
            border:1px solid gray;
            text-align:center;
            width:435px;
        }
        #ResearchTable td
        {
        }
        #ResearchTable th
        {
            background-color:#006666;
            color:White;
            font-size:smaller
        }
            
        .RowLabels
        {
            font-weight:bold;
        }
        #ResearchTable td:first-child
        {
            font-weight:bold;
            font-size:smaller;
        }
        #ResearchTable tr td
        {
            background-color: #DADADA
        }
        #ResearchTable tr:nth-child(2n) td
        {
            background-color:  #EEEEEE !important;
        }
        #ResearchTable tr.even td {
            background-color: #EEEEEE;
        }
        .CellDisplayMode
        {
        }
        .CellManipulateMode
        {
        }
            
    </style>
     <!--[if lt IE 9]>
        <script type="text/javascript">
            function StyleTable(){
                $('tr').removeClass('even');
                $("tr:nth-child(2n)").addClass("even");
            };
            $(function () {
                StyleTable();
            });
        </script>
    <![endif]-->
    <script id = "LocationData" type="text/javascript">
        var DataSet = {"State House District": [
            {"Name":"1","geographyId":"09001","geographyType":"statehouse"},
            {"Name":"2","geographyId":"09002","geographyType":"statehouse"},
            {"Name":"3","geographyId":"09003","geographyType":"statehouse"},
            {"Name":"4","geographyId":"09004","geographyType":"statehouse"},
            {"Name":"5","geographyId":"09005","geographyType":"statehouse"},
            {"Name":"6","geographyId":"09006","geographyType":"statehouse"},
            {"Name":"7","geographyId":"09007","geographyType":"statehouse"},
            {"Name":"8","geographyId":"09008","geographyType":"statehouse"},
            {"Name":"9","geographyId":"09009","geographyType":"statehouse"},
            {"Name":"10","geographyId":"09010","geographyType":"statehouse"},
            {"Name":"11","geographyId":"09011","geographyType":"statehouse"},
            {"Name":"12","geographyId":"09012","geographyType":"statehouse"},
            {"Name":"13","geographyId":"09013","geographyType":"statehouse"},
            {"Name":"14","geographyId":"09014","geographyType":"statehouse"},
            {"Name":"15","geographyId":"09015","geographyType":"statehouse"},
            {"Name":"16","geographyId":"09016","geographyType":"statehouse"},
            {"Name":"17","geographyId":"09017","geographyType":"statehouse"},
            {"Name":"18","geographyId":"09018","geographyType":"statehouse"},
            {"Name":"19","geographyId":"09019","geographyType":"statehouse"},
            {"Name":"20","geographyId":"09020","geographyType":"statehouse"},
            {"Name":"21","geographyId":"09021","geographyType":"statehouse"},
            {"Name":"22","geographyId":"09022","geographyType":"statehouse"},
            {"Name":"23","geographyId":"09023","geographyType":"statehouse"},
            {"Name":"24","geographyId":"09024","geographyType":"statehouse"},
            {"Name":"25","geographyId":"09025","geographyType":"statehouse"},
            {"Name":"26","geographyId":"09026","geographyType":"statehouse"},
            {"Name":"27","geographyId":"09027","geographyType":"statehouse"},
            {"Name":"28","geographyId":"09028","geographyType":"statehouse"},
            {"Name":"29","geographyId":"09029","geographyType":"statehouse"},
            {"Name":"30","geographyId":"09030","geographyType":"statehouse"},
            {"Name":"31","geographyId":"09031","geographyType":"statehouse"},
            {"Name":"32","geographyId":"09032","geographyType":"statehouse"},
            {"Name":"33","geographyId":"09033","geographyType":"statehouse"},
            {"Name":"34","geographyId":"09034","geographyType":"statehouse"},
            {"Name":"35","geographyId":"09035","geographyType":"statehouse"},
            {"Name":"36","geographyId":"09036","geographyType":"statehouse"},
            {"Name":"37","geographyId":"09037","geographyType":"statehouse"},
            {"Name":"38","geographyId":"09038","geographyType":"statehouse"},
            {"Name":"39","geographyId":"09039","geographyType":"statehouse"},
            {"Name":"40","geographyId":"09040","geographyType":"statehouse"},
            {"Name":"41","geographyId":"09041","geographyType":"statehouse"},
            {"Name":"42","geographyId":"09042","geographyType":"statehouse"},
            {"Name":"43","geographyId":"09043","geographyType":"statehouse"},
            {"Name":"44","geographyId":"09044","geographyType":"statehouse"},
            {"Name":"45","geographyId":"09045","geographyType":"statehouse"},
            {"Name":"46","geographyId":"09046","geographyType":"statehouse"},
            {"Name":"47","geographyId":"09047","geographyType":"statehouse"},
            {"Name":"48","geographyId":"09048","geographyType":"statehouse"},
            {"Name":"49","geographyId":"09049","geographyType":"statehouse"},
            {"Name":"50","geographyId":"09050","geographyType":"statehouse"},
            {"Name":"51","geographyId":"09051","geographyType":"statehouse"},
            {"Name":"52","geographyId":"09052","geographyType":"statehouse"},
            {"Name":"53","geographyId":"09053","geographyType":"statehouse"},
            {"Name":"54","geographyId":"09054","geographyType":"statehouse"},
            {"Name":"55","geographyId":"09055","geographyType":"statehouse"},
            {"Name":"56","geographyId":"09056","geographyType":"statehouse"},
            {"Name":"57","geographyId":"09057","geographyType":"statehouse"},
            {"Name":"58","geographyId":"09058","geographyType":"statehouse"},
            {"Name":"59","geographyId":"09059","geographyType":"statehouse"},
            {"Name":"60","geographyId":"09060","geographyType":"statehouse"},
            {"Name":"61","geographyId":"09061","geographyType":"statehouse"},
            {"Name":"62","geographyId":"09062","geographyType":"statehouse"},
            {"Name":"63","geographyId":"09063","geographyType":"statehouse"},
            {"Name":"64","geographyId":"09064","geographyType":"statehouse"},
            {"Name":"65","geographyId":"09065","geographyType":"statehouse"},
            {"Name":"66","geographyId":"09066","geographyType":"statehouse"},
            {"Name":"67","geographyId":"09067","geographyType":"statehouse"},
            {"Name":"68","geographyId":"09068","geographyType":"statehouse"},
            {"Name":"69","geographyId":"09069","geographyType":"statehouse"},
            {"Name":"70","geographyId":"09070","geographyType":"statehouse"},
            {"Name":"71","geographyId":"09071","geographyType":"statehouse"},
            {"Name":"72","geographyId":"09072","geographyType":"statehouse"},
            {"Name":"73","geographyId":"09073","geographyType":"statehouse"},
            {"Name":"74","geographyId":"09074","geographyType":"statehouse"},
            {"Name":"75","geographyId":"09075","geographyType":"statehouse"},
            {"Name":"76","geographyId":"09076","geographyType":"statehouse"},
            {"Name":"77","geographyId":"09077","geographyType":"statehouse"},
            {"Name":"78","geographyId":"09078","geographyType":"statehouse"},
            {"Name":"79","geographyId":"09079","geographyType":"statehouse"},
            {"Name":"80","geographyId":"09080","geographyType":"statehouse"},
            {"Name":"81","geographyId":"09081","geographyType":"statehouse"},
            {"Name":"82","geographyId":"09082","geographyType":"statehouse"},
            {"Name":"83","geographyId":"09083","geographyType":"statehouse"},
            {"Name":"84","geographyId":"09084","geographyType":"statehouse"},
            {"Name":"85","geographyId":"09085","geographyType":"statehouse"},
            {"Name":"86","geographyId":"09086","geographyType":"statehouse"},
            {"Name":"87","geographyId":"09087","geographyType":"statehouse"},
            {"Name":"88","geographyId":"09088","geographyType":"statehouse"},
            {"Name":"89","geographyId":"09089","geographyType":"statehouse"},
            {"Name":"90","geographyId":"09090","geographyType":"statehouse"},
            {"Name":"91","geographyId":"09091","geographyType":"statehouse"},
            {"Name":"92","geographyId":"09092","geographyType":"statehouse"},
            {"Name":"93","geographyId":"09093","geographyType":"statehouse"},
            {"Name":"94","geographyId":"09094","geographyType":"statehouse"},
            {"Name":"95","geographyId":"09095","geographyType":"statehouse"},
            {"Name":"96","geographyId":"09096","geographyType":"statehouse"},
            {"Name":"97","geographyId":"09097","geographyType":"statehouse"},
            {"Name":"98","geographyId":"09098","geographyType":"statehouse"},
            {"Name":"99","geographyId":"09099","geographyType":"statehouse"},
            {"Name":"100","geographyId":"09100","geographyType":"statehouse"},
            {"Name":"101","geographyId":"09101","geographyType":"statehouse"},
            {"Name":"102","geographyId":"09102","geographyType":"statehouse"},
            {"Name":"103","geographyId":"09103","geographyType":"statehouse"},
            {"Name":"104","geographyId":"09104","geographyType":"statehouse"},
            {"Name":"105","geographyId":"09105","geographyType":"statehouse"},
            {"Name":"106","geographyId":"09106","geographyType":"statehouse"},
            {"Name":"107","geographyId":"09107","geographyType":"statehouse"},
            {"Name":"108","geographyId":"09108","geographyType":"statehouse"},
            {"Name":"109","geographyId":"09109","geographyType":"statehouse"},
            {"Name":"110","geographyId":"09110","geographyType":"statehouse"},
            {"Name":"111","geographyId":"09111","geographyType":"statehouse"},
            {"Name":"112","geographyId":"09112","geographyType":"statehouse"},
            {"Name":"113","geographyId":"09113","geographyType":"statehouse"},
            {"Name":"114","geographyId":"09114","geographyType":"statehouse"},
            {"Name":"115","geographyId":"09115","geographyType":"statehouse"},
            {"Name":"116","geographyId":"09116","geographyType":"statehouse"},
            {"Name":"117","geographyId":"09117","geographyType":"statehouse"},
            {"Name":"118","geographyId":"09118","geographyType":"statehouse"},
            {"Name":"119","geographyId":"09119","geographyType":"statehouse"},
            {"Name":"120","geographyId":"09120","geographyType":"statehouse"},
            {"Name":"121","geographyId":"09121","geographyType":"statehouse"},
            {"Name":"122","geographyId":"09122","geographyType":"statehouse"},
            {"Name":"123","geographyId":"09123","geographyType":"statehouse"},
            {"Name":"124","geographyId":"09124","geographyType":"statehouse"},
            {"Name":"125","geographyId":"09125","geographyType":"statehouse"},
            {"Name":"126","geographyId":"09126","geographyType":"statehouse"},
            {"Name":"127","geographyId":"09127","geographyType":"statehouse"},
            {"Name":"128","geographyId":"09128","geographyType":"statehouse"},
            {"Name":"129","geographyId":"09129","geographyType":"statehouse"},
            {"Name":"130","geographyId":"09130","geographyType":"statehouse"},
            {"Name":"131","geographyId":"09131","geographyType":"statehouse"},
            {"Name":"132","geographyId":"09132","geographyType":"statehouse"},
            {"Name":"133","geographyId":"09133","geographyType":"statehouse"},
            {"Name":"134","geographyId":"09134","geographyType":"statehouse"},
            {"Name":"135","geographyId":"09135","geographyType":"statehouse"},
            {"Name":"136","geographyId":"09136","geographyType":"statehouse"},
            {"Name":"137","geographyId":"09137","geographyType":"statehouse"},
            {"Name":"138","geographyId":"09138","geographyType":"statehouse"},
            {"Name":"139","geographyId":"09139","geographyType":"statehouse"},
            {"Name":"140","geographyId":"09140","geographyType":"statehouse"},
            {"Name":"141","geographyId":"09141","geographyType":"statehouse"},
            {"Name":"142","geographyId":"09142","geographyType":"statehouse"},
            {"Name":"143","geographyId":"09143","geographyType":"statehouse"},
            {"Name":"144","geographyId":"09144","geographyType":"statehouse"},
            {"Name":"145","geographyId":"09145","geographyType":"statehouse"},
            {"Name":"146","geographyId":"09146","geographyType":"statehouse"},
            {"Name":"147","geographyId":"09147","geographyType":"statehouse"},
            {"Name":"148","geographyId":"09148","geographyType":"statehouse"},
            {"Name":"149","geographyId":"09149","geographyType":"statehouse"},
            {"Name":"150","geographyId":"09150","geographyType":"statehouse"},
            {"Name":"151","geographyId":"09151","geographyType":"statehouse"}],
        "State Senate District": [
            {"Name":"1","geographyId":"09001","geographyType":"statesenate"},
            {"Name":"2","geographyId":"09002","geographyType":"statesenate"},
            {"Name":"3","geographyId":"09003","geographyType":"statesenate"},
            {"Name":"4","geographyId":"09004","geographyType":"statesenate"},
            {"Name":"5","geographyId":"09005","geographyType":"statesenate"},
            {"Name":"6","geographyId":"09006","geographyType":"statesenate"},
            {"Name":"7","geographyId":"09007","geographyType":"statesenate"},
            {"Name":"8","geographyId":"09008","geographyType":"statesenate"},
            {"Name":"9","geographyId":"09009","geographyType":"statesenate"},
            {"Name":"10","geographyId":"09010","geographyType":"statesenate"},
            {"Name":"11","geographyId":"09011","geographyType":"statesenate"},
            {"Name":"12","geographyId":"09012","geographyType":"statesenate"},
            {"Name":"13","geographyId":"09013","geographyType":"statesenate"},
            {"Name":"14","geographyId":"09014","geographyType":"statesenate"},
            {"Name":"15","geographyId":"09015","geographyType":"statesenate"},
            {"Name":"16","geographyId":"09016","geographyType":"statesenate"},
            {"Name":"17","geographyId":"09017","geographyType":"statesenate"},
            {"Name":"18","geographyId":"09018","geographyType":"statesenate"},
            {"Name":"19","geographyId":"09019","geographyType":"statesenate"},
            {"Name":"20","geographyId":"09020","geographyType":"statesenate"},
            {"Name":"21","geographyId":"09021","geographyType":"statesenate"},
            {"Name":"22","geographyId":"09022","geographyType":"statesenate"},
            {"Name":"23","geographyId":"09023","geographyType":"statesenate"},
            {"Name":"24","geographyId":"09024","geographyType":"statesenate"},
            {"Name":"25","geographyId":"09025","geographyType":"statesenate"},
            {"Name":"26","geographyId":"09026","geographyType":"statesenate"},
            {"Name":"27","geographyId":"09027","geographyType":"statesenate"},
            {"Name":"28","geographyId":"09028","geographyType":"statesenate"},
            {"Name":"29","geographyId":"09029","geographyType":"statesenate"},
            {"Name":"30","geographyId":"09030","geographyType":"statesenate"},
            {"Name":"31","geographyId":"09031","geographyType":"statesenate"},
            {"Name":"32","geographyId":"09032","geographyType":"statesenate"},
            {"Name":"33","geographyId":"09033","geographyType":"statesenate"},
            {"Name":"34","geographyId":"09034","geographyType":"statesenate"},
            {"Name":"35","geographyId":"09035","geographyType":"statesenate"}],
        "US House District":[
            {"Name":1,"geographyId":"0911101","geographyType":"congdistrict"},
            {"Name":2,"geographyId":"0911102","geographyType":"congdistrict"},
            {"Name":3,"geographyId":"0911103","geographyType":"congdistrict"},
            {"Name":4,"geographyId":"0911104","geographyType":"congdistrict"},
            {"Name":5,"geographyId":"0911105","geographyType": "congdistrict"}]
    }
    </script>
    <script id="JqueryFormAjax" type="text/javascript">
        ///<reference path="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7-vsdoc.js"/>
        function AjaxForm(aForm, aMetaSelector, settings) { };
        $(function () {
            function AjaxFormImplementation(aForm, aMetaSelector, settings) {
                settings = settings || {};
                settings.url = aForm.attr('action');
                $.each($(aMetaSelector), function (key, value) {
                    var tmpVal = $(value);
                    settings[tmpVal.attr('name')] = tmpVal.val();
                });
                settings["data"] = aForm.find('*:not(' + aMetaSelector + ')').serialize();
                return settings;
            };
            AjaxForm = AjaxFormImplementation;
        });
    </script>
    <script></script>
    <script id="logic" type="text/javascript">
        ///<reference path="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7-vsdoc.js"/>
        $(function () {
            function UpdateHandler(e) {

                $('#ResearchTable td').each(function (key, value) {
                    var tmpItem = $(this);
                    var col = tmpItem.parent().children().index(tmpItem);
                    var row = tmpItem.parent().parent().children().index(tmpItem);
                    var tmpRow = tmpItem.parent();
                    var tmpHead = $('#ResearchTable th:nth-child(' + (col+1) + ')');
                    var tmpAPI = tmpHead.find('[name=API]:first').val();
                    if (tmpAPI) if (localStorage.getItem(tmpAPI)) {
                    } else {
                        var tmpForm = $('#' + tmpAPI).clone();
                        var settings = AjaxForm(tmpForm, '.meta');
                        settings.success = function (e) {
                            try {
                                tmpItem.text(eval("e" + tmpHead.find('[name=field]').val()));
                            } catch (e) {
                                tmpItem.text('error');
                            }
                        };
                        settings.error = onerror;
                        var rowHeader = tmpRow.find('td:first');
                        rowHeader.find('input').each(function (key, val) {
                            var tmpInput = $(val);
                            settings.url = settings.url.replace(new RegExp('\{' + tmpInput.attr('name') + '\}', 'g'), tmpInput.val());
                        });
                        $.ajax(settings);
                    };
                });
                function capture(e) {
                };
                function onError(a, b, c, d) {
                };
            }
            var Initialize = function () {
                $('#cmdUpdate').live('click', UpdateHandler);
            } ();
        });
    </script>
</head>
<body>
    <form id="APIBroadbandSummary" accept="" action="http://www.broadbandmap.gov/broadbandmap/analyze/fall2010/summary/population/{geographyType}/ids/{geographyIds}" style="display:none" method="get">
        <input type="hidden" name="format" value="jsonp" />
        <input type="hidden" class="meta" name="dataType" value="JSONP" />
    </form>
    <button id="cmdUpdate">Update Table</button>
    <table id="ResearchTable" >
        <colgroup >
            <col class="RowLabels" style="width:20%; text-align:center; border:1px solid gray; font-weight:bold" span="1"/>
            <col class="RowContent" style="width:20%;text-align:center; border:1px solid gray" span="4" />
        </colgroup>
        <thead>
            <tr class="TableHeader">
                <th id="NameHeader">Name</th> 
                <th id="Col1Header">
                    Fiber
                    <input type="hidden" name="field" value="['Results']['0']['fiberTechnology']" />
                    <input type="hidden" name="format" value="***value***" />
                    <input type="hidden" name="API" value="APIBroadbandSummary" />
                </th> 
                <th id="Col2Header">
                    < 3 mbps
                    <input type="hidden" name="field" value="['Results']['0']['downloadSpeedLessThan3Mbps']" />
                    <input type="hidden" name="format" value="***value***" />
                    <input type="hidden" name="API" value="APIBroadbandSummary" />
                </th> 
                <th id="Col3Header">Info</th> 
                <th id="Col4Header">Info</th> 
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    5th Cong.
                    <input type="hidden" name="geographyIds"value="0911105" />
                    <input type="hidden" name="geographyType"value="congdistrict" />
                </td>
                <td>1%</td>
                <td>1%</td>
                <td>1%</td>
                <td>1%</td>
            </tr>
            <tr>
                <td>
                    3rd Cong.
                    <input type="hidden" name="geographyIds"value="0911103" />
                    <input type="hidden" name="geographyType"value="congdistrict" />
                </td>
                <td>1%</td>
                <td>1%</td>
                <td>1%</td>
                <td>1%</td>
            </tr>
            <tr>
                <td>
                    <span style="font-style:italic; font-size:smaller; font-weight:normal"> Click to add a jurisdiction</span>
                </td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
        </tbody>
    </table>
</body>
</html>
